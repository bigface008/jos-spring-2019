Lab6 Answer

汪喆昊 516030910460 F1603703

Question 1
How did you structure your transmit implementation? In particular, what do you
do if the transmit ring is full?
e1000_tx_init()函数主要进行了如下操作：
1. 分配一个Page给tx_descs，并且清空。
2. 初始化tx_descs中的值。（就是把tx_pkt_buf的每个pkt的物理地址写到每个对应的tx_desc的
addr中）
3. 设置base（就是e1000的位置）中的各项数据。
e1000_tx()在发现队列已满之后，会返回-E_TXQ_FULL这一错误值。在output.c中的output()中
27行附近，当sys_net_send的返回值小于0，output()检查它是否等于-E_TXQ_FULL，若是，则重
试直至sys_net_send成功调用并返回；若不是，则panic。

Question 2
How did you structure your receive implementation? In particular, what do you do
if the receive queue is empty and a user environment requests the next incoming
packet?
e1000_rx_init()函数主要进行了如下操作：
1. 分配一个Page给rx_descs，并且清空。
2. 初始化rx_descs中的值。
3. 设置base（就是e1000的位置）中的各项数据。
e1000_rx()在出现题中描述的情况的时候，会返回-E_AGAIN这一错误值，使得input()继续重试，
直至e1000_rx()成功获取对应pkt。

Question 3
What does the web page served by JOS's web server say?
顶上是一行大字：“This file came from JOS.”。下面有一行不停从左到右滚动的小字：“Cheesy
web page!”。

Question 4
How long approximately did it take you to do this lab?
磨磨蹭蹭做了几乎一周......
